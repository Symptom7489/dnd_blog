# This is the backend configuration. It tells the CMS how to connect to your Git repository.
backend:
  name: git-gateway # Using Netlify's Git Gateway for authentication
  repo: Symptom7489/dnd_blog # Your GitHub repository
  branch: main # The branch to commit changes to

# This tells the CMS where to store uploaded media files.
# media_folder: "src/img" -> Where the CMS saves the files in your repo.
# public_folder: "/img" -> The path your built website will use to display them.
media_folder: "src/img/{{collection}}"
public_folder: "/img/{{collection}}"

# This is where we define all the content types you can edit.
collections:
  # Collection for Campaign/Session Recaps (Blog)
  - name: "campaign"
    label: "Campaign Log"
    folder: "src/blog"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime" }
      - label: "Session Recap"
        name: "body"
        widget: "markdown"
        editor_components: []

  # Collection for Characters (NPCs or PCs)
  - name: "characters"
    label: "Characters"
    folder: "src/characters"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Name", name: "title", widget: "string" }
      - { label: "Photo", name: "photo", widget: "image", required: false }
      - { label: "Bio / Description", name: "body", widget: "markdown",}

  # Collection for Players
  - name: "players"
    label: "Players"
    folder: "src/players" # Note: You may need to create this folder in your 'src' directory.
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Player Name", name: "title", widget: "string" }
      - { label: "Photo", name: "photo", widget: "image", required: false }
      - { label: "Bio", name: "body", widget: "markdown" }

# Collection for Items
- name: "items"
  label: "Items"
  folder: "src/items"
  create: true
  slug: "{{slug}}"
  fields:
    - { label: "Item Name", name: "title", widget: "string" }
    
    # 1. Dedicated Image Field (New/Updated)
    # The 'photo' field you manually used in your .md files.
    - { label: "Item Photo", name: "photo", widget: "image", required: false, allow_multiple: false }
    
    # 2. Item Type (Select List)
    # Uses a 'select' widget for controlled data entry.
    - label: "Item Type"
      name: "item_type"
      widget: "select"
      options: ["Weapon", "Armor", "Wondrous Item", "Potion", "Scroll", "Tool", "Artifact"]
      default: "Wondrous Item"

    # 3. Rarity (Select List)
    # Uses a 'select' widget to enforce standardized rarity levels.
    - label: "Rarity"
      name: "rarity"
      widget: "select"
      options: ["Common", "Uncommon", "Rare", "Very Rare", "Legendary", "Artifact"]
      default: "Uncommon"

    # 4. Attunement (Boolean/Yes/No)
    # Uses a 'boolean' widget for a clear Attunement requirement.
    - { label: "Requires Attunement?", name: "attunement", widget: "boolean", default: false, required: false }

    # 5. Full Description
    - { label: "Description", name: "body", widget: "markdown", editor_components: [] }

  # Collection for One-Shots, Memes, and Misc Content
  - name: "misc"
    label: "One-Shots & Memes"
    folder: "src/misc"
    create: true
    slug: "{{slug}}"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "date", widget: "datetime", required: false }
      - { label: "Image or GIF", name: "photo", widget: "image", required: false }
      - { label: "External Link", name: "url_link", widget: "string", required: false }
      - { label: "Content", name: "body", widget: "markdown", editor_components: [], required: false }

